{"ast":null,"code":"import React,{useState,useEffect}from'react';import{format,addMonths,subMonths,addYears,subYears,startOfMonth,endOfMonth,eachDayOfInterval,isSameMonth,getDay,addDays,setMonth,addDays as addDaysToDate}from'date-fns';import{DayCell}from'./DayCell';import{YearView}from'./YearView';import{DailyView}from'./DailyView';import'./Calendar.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export const Calendar=_ref=>{let{monthData,yearData,currentDate,onDateChange,onAddEntry,onUpdateEntry,onDeleteEntry,view,onViewChange,entries,recurringPayments,onAddRecurringPayment,onUpdateRecurringPayment,onDeleteRecurringPayment}=_ref;const[renderError,setRenderError]=useState(null);// Debug logging\nuseEffect(()=>{console.log('Calendar component mounted with monthData:',monthData);console.log('Calendar view:',view);},[monthData,view]);const handlePrevMonth=()=>{onDateChange(subMonths(currentDate,1));};const handleNextMonth=()=>{onDateChange(addMonths(currentDate,1));};const handlePrevYear=()=>{onDateChange(subYears(currentDate,1));};const handleNextYear=()=>{onDateChange(addYears(currentDate,1));};const handleMonthClick=month=>{onDateChange(setMonth(currentDate,month));onViewChange('month');};const renderYearView=()=>{try{return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"calendar-header\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handlePrevYear,children:\"<\"}),/*#__PURE__*/_jsx(\"h2\",{children:yearData.year}),/*#__PURE__*/_jsx(\"button\",{onClick:handleNextYear,children:\">\"})]}),/*#__PURE__*/_jsx(YearView,{yearData:yearData,onMonthClick:handleMonthClick})]});}catch(error){console.error('Error rendering year view:',error);setRenderError('Failed to render year view');return/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:\"Failed to render year view. Please try again.\"});}};const renderMonthlyView=()=>{try{if(!monthData||!monthData.days){return/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:\"No calendar data available\"});}const monthStart=startOfMonth(currentDate);const monthEnd=endOfMonth(currentDate);const startDate=monthStart;const endDate=monthEnd;const dateFormat='MMMM yyyy';const days=eachDayOfInterval({start:startDate,end:endDate});// Calculate day offset based on the day of the week the month starts\nconst startDayOfWeek=getDay(monthStart);const placeholderDays=Array.from({length:startDayOfWeek},(_,i)=>addDays(monthStart,-1*(startDayOfWeek-i)));// Calculate remaining days to fill grid\nconst endDayOfWeek=getDay(monthEnd);const remainingDays=6-endDayOfWeek;const appendDays=Array.from({length:remainingDays},(_,i)=>addDays(monthEnd,i+1));// Combine all days\nconst allDays=[...placeholderDays,...days,...appendDays];// Create weeks\nconst weeks=[];let week=[];allDays.forEach((day,i)=>{if(i%7===0&&i>0){weeks.push(week);week=[];}week.push(day);if(i===allDays.length-1){weeks.push(week);}});return/*#__PURE__*/_jsxs(\"div\",{className:\"calendar-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"calendar-header\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handlePrevMonth,children:\"< Prev\"}),/*#__PURE__*/_jsx(\"h2\",{children:format(currentDate,dateFormat)}),/*#__PURE__*/_jsx(\"button\",{onClick:handleNextMonth,children:\"Next >\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"weekdays\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"Sun\"}),/*#__PURE__*/_jsx(\"div\",{children:\"Mon\"}),/*#__PURE__*/_jsx(\"div\",{children:\"Tue\"}),/*#__PURE__*/_jsx(\"div\",{children:\"Wed\"}),/*#__PURE__*/_jsx(\"div\",{children:\"Thu\"}),/*#__PURE__*/_jsx(\"div\",{children:\"Fri\"}),/*#__PURE__*/_jsx(\"div\",{children:\"Sat\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"calendar-grid\",children:weeks.map((week,weekIndex)=>/*#__PURE__*/_jsx(\"div\",{className:\"week\",children:week.map(day=>{const formattedDate=format(day,'yyyy-MM-dd');const dayData=monthData.days[formattedDate];// Use a placeholder for days outside current month\nif(!isSameMonth(day,currentDate)){return/*#__PURE__*/_jsx(\"div\",{className:\"day-cell-placeholder\"},formattedDate);}// If dayData is not available for this date, create a default one\nif(!dayData){console.warn(`Missing day data for ${formattedDate}`);return/*#__PURE__*/_jsx(\"div\",{className:\"day-cell-placeholder\"},formattedDate);}return/*#__PURE__*/_jsx(DayCell,{dayData:dayData,onAddEntry:onAddEntry,onUpdateEntry:onUpdateEntry,onDeleteEntry:onDeleteEntry},formattedDate);})},`week-${weekIndex}`))}),/*#__PURE__*/_jsxs(\"div\",{className:\"monthly-summary\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"summary-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"summary-label\",children:\"Total Income:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-value income\",children:[\"$\",monthData.totalIncome.toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"summary-label\",children:\"Total Expenses:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-value expense\",children:[\"$\",monthData.totalExpenses.toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"summary-label\",children:\"Monthly Balance:\"}),/*#__PURE__*/_jsxs(\"div\",{className:`summary-value ${monthData.monthlyBalance>=0?'income':'expense'}`,children:[\"$\",monthData.monthlyBalance.toFixed(2)]})]})]})]});}catch(error){console.error('Error rendering monthly view:',error);setRenderError('Failed to render monthly calendar view');return/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:\"Failed to render calendar. Please try again.\"});}};const renderWeeklyView=()=>{// For simplicity, we're just showing a message\n// In a real app, you would implement the weekly view\nreturn/*#__PURE__*/_jsx(\"div\",{className:\"placeholder-view\",children:\"Weekly view will be implemented here\"});};const renderDailyView=()=>{try{const formattedDate=format(currentDate,'yyyy-MM-dd');const dayData=monthData.days[formattedDate]||{date:currentDate,entries:[],totalIncome:0,totalExpenses:0,dailyBalance:0,runningBalance:0};return/*#__PURE__*/_jsxs(\"div\",{className:\"daily-view-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"daily-navigation\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>onDateChange(addDaysToDate(currentDate,-1)),children:\"< Previous Day\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>onDateChange(new Date()),children:\"Today\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>onDateChange(addDaysToDate(currentDate,1)),children:\"Next Day >\"})]}),/*#__PURE__*/_jsx(DailyView,{dayData:dayData,onAddEntry:onAddEntry,onUpdateEntry:onUpdateEntry,onDeleteEntry:onDeleteEntry})]});}catch(error){console.error('Error rendering daily view:',error);setRenderError('Failed to render daily view');return/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:\"Failed to render daily view. Please try again.\"});}};return/*#__PURE__*/_jsx(\"div\",{className:\"calendar-container\",children:renderError?/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:renderError}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"view-selector\",children:[/*#__PURE__*/_jsx(\"button\",{className:view==='year'?'active':'',onClick:()=>onViewChange('year'),children:\"Year\"}),/*#__PURE__*/_jsx(\"button\",{className:view==='month'?'active':'',onClick:()=>onViewChange('month'),children:\"Month\"}),/*#__PURE__*/_jsx(\"button\",{className:view==='week'?'active':'',onClick:()=>onViewChange('week'),children:\"Week\"}),/*#__PURE__*/_jsx(\"button\",{className:view==='day'?'active':'',onClick:()=>onViewChange('day'),children:\"Day\"})]}),view==='year'?renderYearView():view==='month'?renderMonthlyView():view==='week'?renderWeeklyView():renderDailyView()]})});};","map":{"version":3,"names":["React","useState","useEffect","format","addMonths","subMonths","addYears","subYears","startOfMonth","endOfMonth","eachDayOfInterval","isSameMonth","getDay","addDays","setMonth","addDaysToDate","DayCell","YearView","DailyView","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Calendar","_ref","monthData","yearData","currentDate","onDateChange","onAddEntry","onUpdateEntry","onDeleteEntry","view","onViewChange","entries","recurringPayments","onAddRecurringPayment","onUpdateRecurringPayment","onDeleteRecurringPayment","renderError","setRenderError","console","log","handlePrevMonth","handleNextMonth","handlePrevYear","handleNextYear","handleMonthClick","month","renderYearView","children","className","onClick","year","onMonthClick","error","renderMonthlyView","days","monthStart","monthEnd","startDate","endDate","dateFormat","start","end","startDayOfWeek","placeholderDays","Array","from","length","_","i","endDayOfWeek","remainingDays","appendDays","allDays","weeks","week","forEach","day","push","map","weekIndex","formattedDate","dayData","warn","totalIncome","toFixed","totalExpenses","monthlyBalance","renderWeeklyView","renderDailyView","date","dailyBalance","runningBalance","Date"],"sources":["C:/Users/Administrator/Downloads/personal-budget-tracker/src/components/Calendar.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport {\r\n  format,\r\n  addMonths,\r\n  subMonths,\r\n  addYears,\r\n  subYears,\r\n  startOfMonth,\r\n  endOfMonth,\r\n  eachDayOfInterval,\r\n  isSameMonth,\r\n  getDay,\r\n  addDays,\r\n  setMonth,\r\n  addDays as addDaysToDate\r\n} from 'date-fns';\r\nimport { DayCell } from './DayCell';\r\nimport { YearView } from './YearView';\r\nimport { DailyView } from './DailyView';\r\nimport { MonthData, FinancialEntry, CalendarViewType, YearData, RecurringPayment } from '../types';\r\nimport './Calendar.css';\r\n\r\ninterface CalendarProps {\r\n  monthData: MonthData;\r\n  yearData: YearData;\r\n  currentDate: Date;\r\n  onDateChange: (date: Date) => void;\r\n  onAddEntry: (entry: Omit<FinancialEntry, 'id'>) => void;\r\n  onUpdateEntry: (entry: FinancialEntry) => void;\r\n  onDeleteEntry: (id: string) => void;\r\n  view: CalendarViewType;\r\n  onViewChange: (view: CalendarViewType) => void;\r\n  entries: FinancialEntry[];\r\n  recurringPayments: RecurringPayment[];\r\n  onAddRecurringPayment: (payment: Omit<RecurringPayment, 'id'>) => void;\r\n  onUpdateRecurringPayment: (updatedPayment: RecurringPayment) => void;\r\n  onDeleteRecurringPayment: (id: string) => void;\r\n}\r\n\r\nexport const Calendar: React.FC<CalendarProps> = ({\r\n  monthData,\r\n  yearData,\r\n  currentDate,\r\n  onDateChange,\r\n  onAddEntry,\r\n  onUpdateEntry,\r\n  onDeleteEntry,\r\n  view,\r\n  onViewChange,\r\n  entries,\r\n  recurringPayments,\r\n  onAddRecurringPayment,\r\n  onUpdateRecurringPayment,\r\n  onDeleteRecurringPayment\r\n}) => {\r\n  const [renderError, setRenderError] = useState<string | null>(null);\r\n\r\n  // Debug logging\r\n  useEffect(() => {\r\n    console.log('Calendar component mounted with monthData:', monthData);\r\n    console.log('Calendar view:', view);\r\n  }, [monthData, view]);\r\n\r\n  const handlePrevMonth = () => {\r\n    onDateChange(subMonths(currentDate, 1));\r\n  };\r\n\r\n  const handleNextMonth = () => {\r\n    onDateChange(addMonths(currentDate, 1));\r\n  };\r\n\r\n  const handlePrevYear = () => {\r\n    onDateChange(subYears(currentDate, 1));\r\n  };\r\n\r\n  const handleNextYear = () => {\r\n    onDateChange(addYears(currentDate, 1));\r\n  };\r\n\r\n  const handleMonthClick = (month: number) => {\r\n    onDateChange(setMonth(currentDate, month));\r\n    onViewChange('month');\r\n  };\r\n\r\n  const renderYearView = () => {\r\n    try {\r\n      return (\r\n        <div>\r\n          <div className=\"calendar-header\">\r\n            <button onClick={handlePrevYear}>&lt;</button>\r\n            <h2>{yearData.year}</h2>\r\n            <button onClick={handleNextYear}>&gt;</button>\r\n          </div>\r\n          \r\n          <YearView yearData={yearData} onMonthClick={handleMonthClick} />\r\n        </div>\r\n      );\r\n    } catch (error) {\r\n      console.error('Error rendering year view:', error);\r\n      setRenderError('Failed to render year view');\r\n      return <div className=\"error-message\">Failed to render year view. Please try again.</div>;\r\n    }\r\n  };\r\n\r\n  const renderMonthlyView = () => {\r\n    try {\r\n      if (!monthData || !monthData.days) {\r\n        return <div className=\"error-message\">No calendar data available</div>;\r\n      }\r\n\r\n      const monthStart = startOfMonth(currentDate);\r\n      const monthEnd = endOfMonth(currentDate);\r\n      const startDate = monthStart;\r\n      const endDate = monthEnd;\r\n\r\n      const dateFormat = 'MMMM yyyy';\r\n      const days = eachDayOfInterval({ start: startDate, end: endDate });\r\n      \r\n      // Calculate day offset based on the day of the week the month starts\r\n      const startDayOfWeek = getDay(monthStart);\r\n      const placeholderDays = Array.from({ length: startDayOfWeek }, (_, i) => addDays(monthStart, -1 * (startDayOfWeek - i)));\r\n      \r\n      // Calculate remaining days to fill grid\r\n      const endDayOfWeek = getDay(monthEnd);\r\n      const remainingDays = 6 - endDayOfWeek;\r\n      const appendDays = Array.from({ length: remainingDays }, (_, i) => addDays(monthEnd, i + 1));\r\n      \r\n      // Combine all days\r\n      const allDays = [...placeholderDays, ...days, ...appendDays];\r\n      \r\n      // Create weeks\r\n      const weeks: Date[][] = [];\r\n      let week: Date[] = [];\r\n      \r\n      allDays.forEach((day, i) => {\r\n        if (i % 7 === 0 && i > 0) {\r\n          weeks.push(week);\r\n          week = [];\r\n        }\r\n        week.push(day);\r\n        if (i === allDays.length - 1) {\r\n          weeks.push(week);\r\n        }\r\n      });\r\n\r\n      return (\r\n        <div className=\"calendar-container\">\r\n          <div className=\"calendar-header\">\r\n            <button onClick={handlePrevMonth}>&lt; Prev</button>\r\n            <h2>{format(currentDate, dateFormat)}</h2>\r\n            <button onClick={handleNextMonth}>Next &gt;</button>\r\n          </div>\r\n          \r\n          <div className=\"weekdays\">\r\n            <div>Sun</div>\r\n            <div>Mon</div>\r\n            <div>Tue</div>\r\n            <div>Wed</div>\r\n            <div>Thu</div>\r\n            <div>Fri</div>\r\n            <div>Sat</div>\r\n          </div>\r\n          \r\n          <div className=\"calendar-grid\">\r\n            {weeks.map((week, weekIndex) => (\r\n              <div key={`week-${weekIndex}`} className=\"week\">\r\n                {week.map((day: Date) => {\r\n                  const formattedDate = format(day, 'yyyy-MM-dd');\r\n                  const dayData = monthData.days[formattedDate];\r\n                  \r\n                  // Use a placeholder for days outside current month\r\n                  if (!isSameMonth(day, currentDate)) {\r\n                    return <div key={formattedDate} className=\"day-cell-placeholder\"></div>;\r\n                  }\r\n                  \r\n                  // If dayData is not available for this date, create a default one\r\n                  if (!dayData) {\r\n                    console.warn(`Missing day data for ${formattedDate}`);\r\n                    return <div key={formattedDate} className=\"day-cell-placeholder\"></div>;\r\n                  }\r\n                  \r\n                  return (\r\n                    <DayCell\r\n                      key={formattedDate}\r\n                      dayData={dayData}\r\n                      onAddEntry={onAddEntry}\r\n                      onUpdateEntry={onUpdateEntry}\r\n                      onDeleteEntry={onDeleteEntry}\r\n                    />\r\n                  );\r\n                })}\r\n              </div>\r\n            ))}\r\n          </div>\r\n          \r\n          <div className=\"monthly-summary\">\r\n            <div className=\"summary-item\">\r\n              <div className=\"summary-label\">Total Income:</div>\r\n              <div className=\"summary-value income\">${monthData.totalIncome.toFixed(2)}</div>\r\n            </div>\r\n            <div className=\"summary-item\">\r\n              <div className=\"summary-label\">Total Expenses:</div>\r\n              <div className=\"summary-value expense\">${monthData.totalExpenses.toFixed(2)}</div>\r\n            </div>\r\n            <div className=\"summary-item\">\r\n              <div className=\"summary-label\">Monthly Balance:</div>\r\n              <div className={`summary-value ${monthData.monthlyBalance >= 0 ? 'income' : 'expense'}`}>\r\n                ${monthData.monthlyBalance.toFixed(2)}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    } catch (error) {\r\n      console.error('Error rendering monthly view:', error);\r\n      setRenderError('Failed to render monthly calendar view');\r\n      return <div className=\"error-message\">Failed to render calendar. Please try again.</div>;\r\n    }\r\n  };\r\n\r\n  const renderWeeklyView = () => {\r\n    // For simplicity, we're just showing a message\r\n    // In a real app, you would implement the weekly view\r\n    return <div className=\"placeholder-view\">Weekly view will be implemented here</div>;\r\n  };\r\n\r\n  const renderDailyView = () => {\r\n    try {\r\n      const formattedDate = format(currentDate, 'yyyy-MM-dd');\r\n      const dayData = monthData.days[formattedDate] || {\r\n        date: currentDate,\r\n        entries: [],\r\n        totalIncome: 0,\r\n        totalExpenses: 0,\r\n        dailyBalance: 0,\r\n        runningBalance: 0\r\n      };\r\n\r\n      return (\r\n        <div className=\"daily-view-container\">\r\n          <div className=\"daily-navigation\">\r\n            <button onClick={() => onDateChange(addDaysToDate(currentDate, -1))}>\r\n              &lt; Previous Day\r\n            </button>\r\n            <button onClick={() => onDateChange(new Date())}>\r\n              Today\r\n            </button>\r\n            <button onClick={() => onDateChange(addDaysToDate(currentDate, 1))}>\r\n              Next Day &gt;\r\n            </button>\r\n          </div>\r\n          <DailyView\r\n            dayData={dayData}\r\n            onAddEntry={onAddEntry}\r\n            onUpdateEntry={onUpdateEntry}\r\n            onDeleteEntry={onDeleteEntry}\r\n          />\r\n        </div>\r\n      );\r\n    } catch (error) {\r\n      console.error('Error rendering daily view:', error);\r\n      setRenderError('Failed to render daily view');\r\n      return <div className=\"error-message\">Failed to render daily view. Please try again.</div>;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"calendar-container\">\r\n      {renderError ? (\r\n        <div className=\"error-message\">{renderError}</div>\r\n      ) : (\r\n        <>\r\n          <div className=\"view-selector\">\r\n            <button \r\n              className={view === 'year' ? 'active' : ''} \r\n              onClick={() => onViewChange('year')}\r\n            >\r\n              Year\r\n            </button>\r\n            <button \r\n              className={view === 'month' ? 'active' : ''} \r\n              onClick={() => onViewChange('month')}\r\n            >\r\n              Month\r\n            </button>\r\n            <button \r\n              className={view === 'week' ? 'active' : ''} \r\n              onClick={() => onViewChange('week')}\r\n            >\r\n              Week\r\n            </button>\r\n            <button \r\n              className={view === 'day' ? 'active' : ''} \r\n              onClick={() => onViewChange('day')}\r\n            >\r\n              Day\r\n            </button>\r\n          </div>\r\n          \r\n          {view === 'year' ? renderYearView() : view === 'month' ? renderMonthlyView() : view === 'week' ? renderWeeklyView() : renderDailyView()}\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}